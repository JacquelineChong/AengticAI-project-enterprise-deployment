<section id="data-governance-framework">
    <h2>Data Governance & Team Structure: Building an Effective Data Organization</h2>
    
    <div class="intro-section">
        <p>Creating a sustainable framework for data initiatives requires more than just technical expertiseâ€”it demands a thoughtful organizational structure that balances centralized governance with distributed domain expertise. In this section, we'll explore our recommended Data Center of Excellence (DCoE) model and how it collaborates with domain experts through agile delivery methodologies, with embedded risk management throughout the process.</p>
    </div>
    
    <div class="dcoe-section">
        <h3>Data Center of Excellence (DCoE)</h3>
        
        <p>A Data Center of Excellence serves as the organizational cornerstone for data initiatives, providing governance, standardization, best practices, and expertise to accelerate data-driven transformation. Unlike a traditional project team, the DCoE operates as a permanent organizational structure that guides all data initiatives while maintaining consistency and knowledge sharing across projects.</p>
        
        <div class="dcoe-composition">
            <h4>Recommended DCoE Composition</h4>
            
            <div class="dcoe-diagram">
                <canvas id="dcoeCanvas" width="900" height="500"></canvas>
            </div>
            
            <div class="dcoe-table-container">
                <table class="dcoe-table">
                    <thead>
                        <tr>
                            <th>Role</th>
                            <th>Primary Responsibilities</th>
                            <th>Notes on Staffing</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td><strong>DCoE Lead</strong><br>(You, initially)</td>
                            <td>
                                <ul>
                                    <li>Oversee all DCoE functions</li>
                                    <li>Set data strategy</li>
                                    <li>Prioritize initiatives</li>
                                    <li>Secure executive sponsorship</li>
                                </ul>
                            </td>
                            <td>As the organization's data scientist, you would initially serve as DCoE lead while developing others</td>
                        </tr>
                        <tr>
                            <td><strong>Data Architect</strong></td>
                            <td>
                                <ul>
                                    <li>Define data architecture standards</li>
                                    <li>Design data models</li>
                                    <li>Guide integration patterns</li>
                                    <li>Ensure scalability</li>
                                </ul>
                            </td>
                            <td>Could initially be sourced from your external vendor as a part-time role or consultant</td>
                        </tr>
                        <tr>
                            <td><strong>Data Governance Lead</strong></td>
                            <td>
                                <ul>
                                    <li>Establish data policies</li>
                                    <li>Define data quality standards</li>
                                    <li>Ensure regulatory compliance</li>
                                    <li>Maintain data dictionary</li>
                                </ul>
                            </td>
                            <td>Could be staffed by your business analyst initially with guidance from you</td>
                        </tr>
                        <tr>
                            <td><strong>Business Value Manager</strong></td>
                            <td>
                                <ul>
                                    <li>Identify business use cases</li>
                                    <li>Calculate ROI/business cases</li>
                                    <li>Measure value realization</li>
                                    <li>Facilitate business partnership</li>
                                </ul>
                            </td>
                            <td>This could be a respected business leader seconded to the DCoE part-time</td>
                        </tr>
                        <tr>
                            <td><strong>Technical Implementation Lead</strong></td>
                            <td>
                                <ul>
                                    <li>Oversee data lake implementation</li>
                                    <li>Manage vendor relationships</li>
                                    <li>Coordinate with IT</li>
                                    <li>Ensure technical standards</li>
                                </ul>
                            </td>
                            <td>Initially could be your IT Manager with expanded responsibilities</td>
                        </tr>
                        <tr>
                            <td><strong>Rotating Business Domain Representatives</strong></td>
                            <td>
                                <ul>
                                    <li>Represent departmental needs</li>
                                    <li>Identify use cases</li>
                                    <li>Validate data requirements</li>
                                    <li>Champion adoption</li>
                                </ul>
                            </td>
                            <td>Your identified "Data Champions" would rotate through this role based on active projects</td>
                        </tr>
                    </tbody>
                </table>
            </div>
        </div>
        
        <div class="dcoe-evolution">
            <h4>Evolution of the DCoE</h4>
            
            <div class="evolution-stages">
                <div class="evolution-stage">
                    <h5>Formation Phase (0-6 months)</h5>
                    <ul>
                        <li>Establish minimal structure with part-time roles</li>
                        <li>Define core data principles and governance standards</li>
                        <li>Complete first project (Integrated Inventory Management)</li>
                        <li>Build credibility through quick wins</li>
                    </ul>
                </div>
                
                <div class="evolution-stage">
                    <h5>Expansion Phase (6-18 months)</h5>
                    <ul>
                        <li>Add dedicated roles as needed</li>
                        <li>Formalize processes for project prioritization</li>
                        <li>Develop training programs for business users</li>
                        <li>Build self-service capabilities</li>
                    </ul>
                </div>
                
                <div class="evolution-stage">
                    <h5>Maturity Phase (18+ months)</h5>
                    <ul>
                        <li>Fully staffed center with specialized expertise</li>
                        <li>Data literacy programs across the organization</li>
                        <li>Established innovation lab for emerging technologies</li>
                        <li>Metrics-driven performance management</li>
                    </ul>
                </div>
            </div>
        </div>
    </div>
    
    <div class="agile-pod-section">
        <h3>Agile Data Delivery Model</h3>
        
        <p>For efficient execution of data projects, we recommend adopting an agile pod structure as illustrated below. Each pod contains the essential skills needed to deliver complete data products while maintaining connections to the DCoE for governance and standards.</p>
        
        <div class="pod-structure">
            <canvas id="podCanvas" width="900" height="500"></canvas>
        </div>
        
        <div class="pod-roles">
            <div class="pod-role">
                <h5>Data Product Owner (DPO)</h5>
                <p>Leads pod in development of data product, sets vision and priorities, and manages stakeholder relationships</p>
            </div>
            
            <div class="pod-role">
                <h5>Data Steward(s) (DS)</h5>
                <p>Manages the relevant data domains, ensures data quality and compliance with governance policies</p>
            </div>
            
            <div class="pod-role">
                <h5>Data Product Analyst(s) (DPA)</h5>
                <p>Brings voice of users/customers, helps define requirements and validates outcomes</p>
            </div>
            
            <div class="pod-role">
                <h5>Data Engineer(s) (DE)</h5>
                <p>Carries out data engineering work, builds pipelines and ensures data processing reliability</p>
            </div>
            
            <div class="pod-role">
                <h5>Data Architect (DA)</h5>
                <p>Designs the overall data architecture for the product, aligns with enterprise standards</p>
            </div>
            
            <div class="pod-role">
                <h5>Designer (D)</h5>
                <p>Creates an easy to consume experience for users, designs interfaces and visualizations</p>
            </div>
            
            <div class="pod-role">
                <h5>Tech Delivery (TD)</h5>
                <p>Provides infrastructure and DataOps expertise, ensures technical quality</p>
            </div>
        </div>
    </div>
    
    <div class="risk-management-section">
        <h3>Embedded Risk Management Framework</h3>
        
        <p>Data initiatives often involve sensitive information and compliance requirements. Our approach embeds risk management directly into the agile delivery process, ensuring that data governance and security are not afterthoughts but integrated throughout the development lifecycle.</p>
        
        <div class="risk-model">
            <canvas id="riskCanvas" width="1000" height="600"></canvas>
        </div>
        
        <div class="risk-process">
            <h4>Risk Assessment Process in Data Development</h4>
            
            <div class="risk-stages">
                <div class="risk-stage">
                    <div class="risk-number">1</div>
                    <div class="risk-details">
                        <h5>Risk Identification</h5>
                        <p>Risk assessment based on comprehensive risk taxonomy to identify risks at a granular level</p>
                        <p class="timing">Every quarter (if needed)</p>
                    </div>
                </div>
                
                <div class="risk-stage">
                    <div class="risk-number">2</div>
                    <div class="risk-details">
                        <h5>Risk Professionals Assignment</h5>
                        <p>Risk professionals are assigned to co-design/consult risk-mitigating actions</p>
                    </div>
                </div>
                
                <div class="risk-stage">
                    <div class="risk-number">3</div>
                    <div class="risk-details">
                        <h5>Refined Risk Assessment</h5>
                        <p>Risk assessment can be retaken to update risk identification and rating as more clarity is obtained</p>
                        <p class="timing">During sprint</p>
                    </div>
                </div>
                
                <div class="risk-stage">
                    <div class="risk-number">4</div>
                    <div class="risk-details">
                        <h5>Risk Mitigation Workflow</h5>
                        <p>Risk mitigation stories identified and automatically generated into backlog of the pod</p>
                    </div>
                </div>
                
                <div class="risk-stage">
                    <div class="risk-number">5</div>
                    <div class="risk-details">
                        <h5>Mitigation Executed</h5>
                        <p>Stories assigned to pod members, business or risk professionals to execute mitigation</p>
                    </div>
                </div>
                
                <div class="risk-stage">
                    <div class="risk-number">7</div>
                    <div class="risk-details">
                        <h5>Reporting and Compliance</h5>
                        <p>Risk mitigation actions documented for compliance, and sprint retrospective discussion</p>
                        <p class="timing">Post-sprint</p>
                    </div>
                </div>
            </div>
            
            <div class="risk-monitoring">
                <div class="monitoring-section">
                    <h5>Initial Assessment</h5>
                    <p>Automatic triggers for involving specialized control functions</p>
                </div>
                
                <div class="monitoring-section">
                    <h5>Dashboard</h5>
                    <p>Monitoring of risk levels and mitigation throughout the life cycle</p>
                </div>
                
                <div class="monitoring-section">
                    <h5>Compliance Reports</h5>
                    <p>Automatically generated and configurable reports</p>
                </div>
            </div>
        </div>
    </div>
    
    <div class="project-plan-section">
        <h3>Integrated Inventory Management: Project Timeline with DCoE Involvement</h3>
        
        <p>The following timeline demonstrates how our DCoE structure works in practice on the Integrated Inventory Management project, showing when different domain experts are pulled in and how responsibilities shift across project phases.</p>
        
        <div class="timeline-container">
            <canvas id="timelineCanvas" width="1100" height="700"></canvas>
        </div>
        
        <div class="phase-details">
            <div class="phase-accordion" id="phaseAccordion">
                <div class="phase-item">
                    <div class="phase-header" onclick="togglePhase(1)">
                        <h4>Phase 1: Project Initiation & Planning (Weeks 1-4)</h4>
                        <span class="toggle-icon">+</span>
                    </div>
                    <div class="phase-content" id="phase1Content">
                        <table class="phase-table">
                            <thead>
                                <tr>
                                    <th>Activity</th>
                                    <th>DCoE Involvement</th>
                                    <th>Domain Experts Involved</th>
                                    <th>Outputs</th>
                                    <th>Owner</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>Project charter development</td>
                                    <td>DCoE Lead facilitates<br>Data Governance Lead reviews</td>
                                    <td>Operations Director<br>Supply Chain Manager</td>
                                    <td>Project charter document<br>Success metrics<br>Resource plan</td>
                                    <td><strong>DCoE Lead</strong></td>
                                </tr>
                                <tr>
                                    <td>Current state assessment</td>
                                    <td>DCoE Lead guides<br>Technical Lead supports</td>
                                    <td>Inventory Controller<br>Cost Accountant<br>Menu Planner</td>
                                    <td>As-is process maps<br>Data source inventory<br>Gap analysis</td>
                                    <td><strong>Business Analyst</strong></td>
                                </tr>
                                <tr>
                                    <td>Technical discovery</td>
                                    <td>Technical Lead leads<br>Data Architect designs</td>
                                    <td>IT Manager<br>External Vendor</td>
                                    <td>Technical requirements<br>Architecture diagram<br>Integration points</td>
                                    <td><strong>Technical Implementation Lead</strong></td>
                                </tr>
                                <tr>
                                    <td>Business case refinement</td>
                                    <td>Business Value Manager leads</td>
                                    <td>Operations Director<br>Finance Manager</td>
                                    <td>Detailed business case<br>ROI calculations<br>Value tracking plan</td>
                                    <td><strong>Business Value Manager</strong></td>
                                </tr>
                                <tr>
                                    <td>Stakeholder kickoff</td>
                                    <td>DCoE Lead facilitates</td>
                                    <td>All identified stakeholders</td>
                                    <td>Aligned expectations<br>RACI matrix<br>Communication plan</td>
                                    <td><strong>DCoE Lead</strong></td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                </div>
                
                <div class="phase-item">
                    <div class="phase-header" onclick="togglePhase(2)">
                        <h4>Phase 2: Data Foundation & Architecture (Weeks 5-12)</h4>
                        <span class="toggle-icon">+</span>
                    </div>
                    <div class="phase-content" id="phase2Content">
                        <table class="phase-table">
                            <thead>
                                <tr>
                                    <th>Activity</th>
                                    <th>DCoE Involvement</th>
                                    <th>Domain Experts Involved</th>
                                    <th>Outputs</th>
                                    <th>Owner</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>Data lake setup</td>
                                    <td>Technical Lead oversees<br>Data Architect reviews</td>
                                    <td>External Vendor<br>IT Manager</td>
                                    <td>Configured data lake<br>Security controls<br>Development environment</td>
                                    <td><strong>External Vendor</strong></td>
                                </tr>
                                <tr>
                                    <td>Data model development</td>
                                    <td>Data Architect leads<br>Data Governance supports</td>
                                    <td>Inventory Controller<br>Menu Planner</td>
                                    <td>Logical data model<br>Physical data model<br>Data dictionary</td>
                                    <td><strong>Data Architect</strong></td>
                                </tr>
                                <tr>
                                    <td>Data ingestion pipelines</td>
                                    <td>Technical Lead oversees<br>Data Architect verifies</td>
                                    <td>IT Manager<br>External Vendor</td>
                                    <td>Data pipelines<br>Quality checks<br>Test data</td>
                                    <td><strong>External Vendor</strong></td>
                                </tr>
                                <tr>
                                    <td>Data quality framework</td>
                                    <td>Data Governance Lead implements</td>
                                    <td>Inventory Controller<br>Cost Accountant</td>
                                    <td>Data quality rules<br>Validation processes<br>Error handling protocols</td>
                                    <td><strong>Data Governance Lead</strong></td>
                                </tr>
                                <tr>
                                    <td>Data access & security</td>
                                    <td>Technical Lead implements<br>Data Governance reviews</td>
                                    <td>IT Manager<br>Operations Director</td>
                                    <td>Role-based access<br>Security protocols<br>Audit trail setup</td>
                                    <td><strong>Technical Implementation Lead</strong></td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                </div>
                
                <div class="phase-item">
                    <div class="phase-header" onclick="togglePhase(3)">
                        <h4>Phase 3: Analytics Development (Weeks 13-20)</h4>
                        <span class="toggle-icon">+</span>
                    </div>
                    <div class="phase-content" id="phase3Content">
                        <table class="phase-table">
                            <thead>
                                <tr>
                                    <th>Activity</th>
                                    <th>DCoE Involvement</th>
                                    <th>Domain Experts Involved</th>
                                    <th>Outputs</th>
                                    <th>Owner</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>Requirements refinement</td>
                                    <td>DCoE Lead guides<br>Business Value Manager supports</td>
                                    <td>All data champions</td>
                                    <td>Detailed requirements<br>User stories<br>Acceptance criteria</td>
                                    <td><strong>Business Analyst</strong></td>
                                </tr>
                                <tr>
                                    <td>Demand forecasting model</td>
                                    <td>DCoE Lead develops</td>
                                    <td>Restaurant Managers<br>Menu Planner</td>
                                    <td>Predictive model<br>Forecast dashboards<br>Validation process</td>
                                    <td><strong>DCoE Lead (You)</strong></td>
                                </tr>
                                <tr>
                                    <td>Inventory optimization models</td>
                                    <td>DCoE Lead develops<br>Business Value validates</td>
                                    <td>Inventory Controller<br>Purchasing Specialist</td>
                                    <td>Optimization algorithms<br>Scenario models<br>Business rules</td>
                                    <td><strong>DCoE Lead (You)</strong></td>
                                </tr>
                                <tr>
                                    <td>Reporting dashboards</td>
                                    <td>Business Analyst designs<br>Technical Lead implements</td>
                                    <td>All data champions<br>Restaurant Managers</td>
                                    <td>Operational dashboards<br>Executive views<br>Mobile access</td>
                                    <td><strong>Business Analyst</strong></td>
                                </tr>
                                <tr>
                                    <td>Alert system development</td>
                                    <td>Technical Lead implements<br>Data Architect reviews</td>
                                    <td>Inventory Controller<br>Restaurant Managers</td>
                                    <td>Alert rules<br>Notification system<br>Action workflow</td>
                                    <td><strong>Technical Implementation Lead</strong></td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                </div>
                
                <div class="phase-item">
                    <div class="phase-header" onclick="togglePhase(4)">
                        <h4>Phase 4: User Adoption & Deployment (Weeks 21-26)</h4>
                        <span class="toggle-icon">+</span>
                    </div>
                    <div class="phase-content" id="phase4Content">
                        <table class="phase-table">
                            <thead>
                                <tr>
                                    <th>Activity</th>
                                    <th>DCoE Involvement</th>
                                    <th>Domain Experts Involved</th>
                                    <th>Outputs</th>
                                    <th>Owner</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>User acceptance testing</td>
                                    <td>Business Analyst coordinates<br>Technical Lead supports</td>
                                    <td>All data champions<br>End users from each dept</td>
                                    <td>Test scenarios<br>Validation results<br>Issue log</td>
                                    <td><strong>Business Analyst</strong></td>
                                </tr>
                                <tr>
                                    <td>Training program development</td>
                                    <td>Data Governance Lead designs</td>
                                    <td>Data champions<br>HR representative</td>
                                    <td>Training materials<br>Knowledge base<br>Support processes</td>
                                    <td><strong>Data Governance Lead</strong></td>
                                </tr>
                                <tr>
                                    <td>Pilot implementation</td>
                                    <td>DCoE Lead oversees<br>Business Value monitors</td>
                                    <td>Operations Director<br>2-3 Restaurant Managers</td>
                                    <td>Pilot results<br>Improvement recommendations<br>Go/no-go decision</td>
                                    <td><strong>DCoE Lead</strong></td>
                                </tr>
                                <tr>
                                    <td>Full deployment</td>
                                    <td>Technical Lead manages<br>All DCoE supports</td>
                                    <td>All stakeholders</td>
                                    <td>Rollout schedule<br>Adoption metrics<br>Support structure</td>
                                    <td><strong>Technical Implementation Lead</strong></td>
                                </tr>
                                <tr>
                                    <td>Value realization tracking</td>
                                    <td>Business Value Manager leads</td>
                                    <td>Operations Director<br>Finance Manager</td>
                                    <td>Value tracking dashboard<br>ROI validation<br>Benefits realization report</td>
                                    <td><strong>Business Value Manager</strong></td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                </div>
                
                <div class="phase-item">
                    <div class="phase-header" onclick="togglePhase(5)">
                        <h4>Phase 5: Continuous Improvement (Ongoing)</h4>
                        <span class="toggle-icon">+</span>
                    </div>
                    <div class="phase-content" id="phase5Content">
                        <table class="phase-table">
                            <thead>
                                <tr>
                                    <th>Activity</th>
                                    <th>DCoE Involvement</th>
                                    <th>Domain Experts Involved</th>
                                    <th>Outputs</th>
                                    <th>Owner</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>Performance monitoring</td>
                                    <td>Technical Lead monitors<br>Data Architect supports</td>
                                    <td>IT Manager<br>Data champions</td>
                                    <td>Performance metrics<br>Optimization opportunities<br>Scaling plan</td>
                                    <td><strong>Technical Implementation Lead</strong></td>
                                </tr>
                                <tr>
                                    <td>Model refinement</td>
                                    <td>DCoE Lead implements<br>Data Architect reviews</td>
                                    <td>Data champions<br>End users</td>
                                    <td>Model improvements<br>Accuracy metrics<br>Version control</td>
                                    <td><strong>DCoE Lead (You)</strong></td>
                                </tr>
                                <tr>
                                    <td>Knowledge sharing</td>
                                    <td>Data Governance coordinates</td>
                                    <td>Data champions<br>Successful adopters</td>
                                    <td>Best practices<br>Case studies<br>Internal communities</td>
                                    <td><strong>Data Governance Lead</strong></td>
                                </tr>
                                <tr>
                                    <td>Extension planning</td>
                                    <td>DCoE Lead facilitates<br>Business Value evaluates</td>
                                    <td>Operations Director<br>Future use case owners</td>
                                    <td>Opportunity roadmap<br>Project templates<br>Resource planning</td>
                                    <td><strong>DCoE Lead</strong></td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                </div>
            </div>
        </div>
    </div>
    
    <div class="summary-section">
        <h3>Key Success Factors for Data Governance Implementation</h3>
        
        <div class="success-factors">
            <div class="success-factor">
                <div class="factor-icon">1</div>
                <div class="factor-content">
                    <h4>Executive Sponsorship</h4>
                    <p>Secure strong, visible support from C-level executives to ensure resources and organizational buy-in</p>
                </div>
            </div>
            
            <div class="success-factor">
                <div class="factor-icon">2</div>
                <div class="factor-content">
                    <h4>Clear Governance Model</h4>
                    <p>Define decision rights, escalation paths, and success metrics upfront to avoid confusion</p>
                </div>
            </div>
            
            <div class="success-factor">
                <div class="factor-icon">3</div>
                <div class="factor-content">
                    <h4>Balanced Participation</h4>
                    <p>Ensure both technical experts and business leaders have meaningful involvement in the process</p>
                </div>
            </div>
            
            <div class="success-factor">
                <div class="factor-icon">4</div>
                <div class="factor-content">
                    <h4>Scalable Framework</h4>
                    <p>Design the DCoE to grow with your data maturity, starting lean but with a vision for expansion</p>
                </div>
            </div>
            
            <div class="success-factor">
                <div class="factor-icon">5</div>
                <div class="factor-content">
                    <h4>Value-First Mindset</h4>
                    <p>Prioritize high-value use cases initially to build credibility and momentum for data initiatives</p>
                </div>
            </div>
            
            <div class="success-factor">
                <div class="factor-icon">6</div>
                <div class="factor-content">
                    <h4>Skills Development Plan</h4>
                    <p>Recognize the need to develop internal capabilities alongside project delivery</p>
                </div>
            </div>
            
            <div class="success-factor">
                <div class="factor-icon">7</div>
                <div class="factor-content">
                    <h4>Continuous Learning Loop</h4>
                    <p>Capture lessons learned to improve future projects and evolve the DCoE model</p>
                </div>
            </div>
        </div>
    </div>
</section>

<style>
    #data-governance-framework {
        font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        line-height: 1.6;
        color: #333;
        max-width: 1200px;
        margin: 0 auto;
        padding: 20px;
    }
    
    h2 {
        color: #2c3e50;
        border-bottom: 2px solid #3498db;
        padding-bottom: 10px;
        margin-bottom: 30px;
    }
    
    h3 {
        color: #2c3e50;
        margin-top: 40px;
        margin-bottom: 20px;
    }
    
    h4 {
        color: #3498db;
        margin-top: 25px;
        margin-bottom: 15px;
    }
    
    h5 {
        color: #2c3e50;
        margin-top: 15px;
        margin-bottom: 10px;
    }
    
    .intro-section {
        margin-bottom: 30px;
    }
    
    .dcoe-section, .agile-pod-section, .risk-management-section, .project-plan-section, .summary-section {
        margin-top: 50px;
        margin-bottom: 50px;
    }
    
    .dcoe-composition, .dcoe-evolution, .pod-structure, .pod-roles, .risk-model, .risk-process, .timeline-container, .phase-details {
        margin-top: 30px;
    }
    
    .dcoe-diagram, .pod-structure, .risk-model, .timeline-container {
        background-color: #f8f9fa;
        border: 1px solid #e0e0e0;
        border-radius: 8px;
        padding: 20px;
        margin-bottom: 30px;
        overflow: hidden;
    }
    
    canvas {
        display: block;
        margin: 0 auto;
        max-width: 100%;
    }
    
    .dcoe-table-container {
        margin: 30px 0;
        overflow-x: auto;
    }
    
    .dcoe-table, .phase-table {
        width: 100%;
        border-collapse: collapse;
        box-shadow: 0 2px 8px rgba(0,0,0,0.1);
    }
    
    .dcoe-table th, .phase-table th {
        background-color: #2c3e50;
        color: white;
        padding: 15px;
        text-align: left;
    }
    
    .dcoe-table td, .phase-table td {
        padding: 12px 15px;
        border-bottom: 1px solid #ddd;
    }
    
    .dcoe-table ul, .phase-table ul {
        margin: 0;
        padding-left: 20px;
    }
    
    .evolution-stages {
        display: flex;
        justify-content: space-between;
        gap: 20px;
        margin-top: 20px;
    }
    
    .evolution-stage {
        flex: 1;
        background-color: #f8f9fa;
        border-radius: 8px;
        padding: 20px;
        box-shadow: 0 2px 5px rgba(0,0,0,0.1);
    }
    
    .evolution-stage h5 {
        color: #3498db;
        border-bottom: 1px solid #e0e0e0;
        padding-bottom: 10px;
        margin-bottom: 15px;
    }
    
    .pod-roles {
        display: grid;
        grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));
        gap: 20px;
        margin-top: 30px;
    }
    
    .pod-role {
        background-color: #f8f9fa;
        border-radius: 8px;
        padding: 20px;
        box-shadow: 0 2px 5px rgba(0,0,0,0.1);
    }
    
    .pod-role h5 {
        color: #3498db;
        margin-top: 0;
        margin-bottom: 10px;
    }
    
    .pod-role p {
        margin: 0;
    }
    
    .risk-stages {
        margin-top: 30px;
    }
    
    .risk-stage {
        display: flex;
        align-items: flex-start;
        margin-bottom: 20px;
    }
    
    .risk-number {
        width: 40px;
        height: 40px;
        background-color: #4169e1;
        color: white;
        border-radius: 50%;
        display: flex;
        align-items: center;
        justify-content: center;
        font-weight: bold;
        font-size: 1.2em;
        margin-right: 15px;
        flex-shrink: 0;
    }
    
    .risk-details {
        flex-grow: 1;
    }
    
    .risk-details h5 {
        margin-top: 0;
        margin-bottom: 5px;
        color: #2c3e50;
    }
    
    .risk-details p {
        margin: 0;
    }
    
    .timing {
        font-style: italic;
        color: #666;
        margin-top: 5px !important;
    }
    
    .risk-monitoring {
        display: flex;
        margin-top: 30px;
        background-color: #f0f7fa;
        border-radius: 8px;
        overflow: hidden;
    }
    
    .monitoring-section {
        flex: 1;
        padding: 20px;
    }
    
    .monitoring-section:nth-child(1) {
        background-color: #4169e1;
        color: white;
    }
    
    .monitoring-section:nth-child(2) {
        background-color: #3498db;
        color: white;
    }
    
    .monitoring-section:nth-child(3) {
        background-color: #e0e0e0;
    }
    
    .monitoring-section h5 {
        margin-top: 0;
        color: inherit;
    }
    
    .monitoring-section p {
        margin: 0;
    }
    
    .phase-item {
        margin-bottom: 15px;
        border: 1px solid #e0e0e0;
        border-radius: 8px;
        overflow: hidden;
    }
    
    .phase-header {
        background-color: #f8f9fa;
        padding: 15px;
        cursor: pointer;
        display: flex;
        justify-content: space-between;
        align-items: center;
    }
    
    .phase-header h4 {
        margin: 0;
        color: #2c3e50;
    }
    
    .toggle-icon {
        font-size: 1.5em;
        color: #3498db;
    }
    
    .phase-content {
        display: none;
        padding: 0 15px;
        overflow-x: auto;
    }
    
    .success-factors {
        display: grid;
        grid-template-columns: repeat(auto-fill, minmax(350px, 1fr));
        gap: 20px;
        margin-top: 30px;
    }
    
    .success-factor {
        display: flex;
        align-items: flex-start;
        background-color: #f8f9fa;
        border-radius: 8px;
        padding: 20px;
        box-shadow: 0 2px 5px rgba(0,0,0,0.1);
    }
    
    .factor-icon {
        width: 40px;
        height: 40px;
        background-color: #3498db;
        color: white;
        border-radius: 50%;
        display: flex;
        align-items: center;
        justify-content: center;
        font-weight: bold;
        font-size: 1.2em;
        margin-right: 15px;
        flex-shrink: 0;
    }
    
    .factor-content {
        flex-grow: 1;
    }
    
    .factor-content h4 {
        margin-top: 0;
        margin-bottom: 10px;
    }
    
    .factor-content p {
        margin: 0;
    }
    
    @media (max-width: 768px) {
        .evolution-stages, .risk-monitoring {
            flex-direction: column;
        }
        
        .evolution-stage, .monitoring-section {
            margin-bottom: 15px;
        }
        
        .pod-roles {
            grid-template-columns: 1fr;
        }
        
        .success-factors {
            grid-template-columns: 1fr;
        }
    }
</style>

<script>
    function togglePhase(phaseNum) {
        const content = document.getElementById(`phase${phaseNum}Content`);
        const header = content.previousElementSibling;
        const icon = header.querySelector('.toggle-icon');
        
        if (content.style.display === 'block') {
            content.style.display = 'none';
            icon.textContent = '+';
        } else {
            content.style.display = 'block';
            icon.textContent = '-';
        }
    }

    window.addEventListener('load', function() {
        // Draw DCoE Composition Diagram
        const dcoeCanvas = document.getElementById('dcoeCanvas');
        if (dcoeCanvas) {
            const dcoeCtx = dcoeCanvas.getContext('2d');
            
            // Set canvas dimensions based on its display size
            const dcoeDisplayWidth = dcoeCanvas.clientWidth;
            const dcoeDisplayHeight = dcoeCanvas.clientHeight;
            
            if (dcoeCanvas.width !== dcoeDisplayWidth || dcoeCanvas.height !== dcoeDisplayHeight) {
                dcoeCanvas.width = dcoeDisplayWidth;
                dcoeCanvas.height = dcoeDisplayHeight;
            }
            
            // Draw DCoE structure
            function drawDCoE() {
                // Background
                dcoeCtx.fillStyle = "#ffffff";
                dcoeCtx.fillRect(0, 0, dcoeCanvas.width, dcoeCanvas.height);
                
                // Title
                dcoeCtx.font = "bold 24px Arial";
                dcoeCtx.fillStyle = "#2c3e50";
                dcoeCtx.textAlign = "center";
                dcoeCtx.fillText("Data Center of Excellence (DCoE) Composition", dcoeCanvas.width / 2, 40);
                
                // Center circle - DCoE Lead
                const centerX = dcoeCanvas.width / 2;
                const centerY = dcoeCanvas.height / 2;
                const mainRadius = 80;
                
                dcoeCtx.beginPath();
                dcoeCtx.arc(centerX, centerY, mainRadius, 0, Math.PI * 2);
                dcoeCtx.fillStyle = "#3498db";
                dcoeCtx.fill();
                
                dcoeCtx.font = "bold 16px Arial";
                dcoeCtx.fillStyle = "#ffffff";
                dcoeCtx.textAlign = "center";
                dcoeCtx.fillText("DCoE Lead", centerX, centerY - 10);
                dcoeCtx.font = "14px Arial";
                dcoeCtx.fillText("(You)", centerX, centerY + 15);
                
                // Surrounding roles
                const roles = [
                    { title: "Data Architect", description: "Data models & integration patterns", angle: 0 },
                    { title: "Data Governance", description: "Policies & standards", angle: Math.PI / 3 },
                    { title: "Business Value", description: "ROI & use cases", angle: 2 * Math.PI / 3 },
                    { title: "Technical Lead", description: "Implementation & vendor mgmt", angle: Math.PI },
                    { title: "Business Domain", description: "Rotating representatives", angle: 4 * Math.PI / 3 },
                    { title: "Skills Development", description: "Training & capability building", angle: 5 * Math.PI / 3 }
                ];
                
                const outerRadius = 60;
                const distance = 180;
                
                roles.forEach(role => {
                    const x = centerX + Math.cos(role.angle) * distance;
                    const y = centerY + Math.sin(role.angle) * distance;
                    
                    // Draw circle
                    dcoeCtx.beginPath();
                    dcoeCtx.arc(x, y, outerRadius, 0, Math.PI * 2);
                    dcoeCtx.fillStyle = "#4169e1";
                    dcoeCtx.fill();
                    
                    // Draw connecting line
                    dcoeCtx.beginPath();
                    dcoeCtx.moveTo(centerX + Math.cos(role.angle) * mainRadius, centerY + Math.sin(role.angle) * mainRadius);
                    dcoeCtx.lineTo(x - Math.cos(role.angle) * outerRadius, y - Math.sin(role.angle) * outerRadius);
                    dcoeCtx.strokeStyle = "#95a5a6";
                    dcoeCtx.lineWidth = 2;
                    dcoeCtx.stroke();
                    
                    // Draw text
                    dcoeCtx.font = "bold 14px Arial";
                    dcoeCtx.fillStyle = "#ffffff";
                    dcoeCtx.textAlign = "center";
                    dcoeCtx.fillText(role.title, x, y - 10);
                    dcoeCtx.font = "12px Arial";
                    
                    // Wrap description text
                    const words = role.description.split(' ');
                    let line = '';
                    let lineY = y + 10;
                    const lineHeight = 16;
                    
                    for (let n = 0; n < words.length; n++) {
                        const testLine = line + words[n] + ' ';
                        const metrics = dcoeCtx.measureText(testLine);
                        const testWidth = metrics.width;
                        
                        if (testWidth > outerRadius * 1.5 && n > 0) {
                            dcoeCtx.fillText(line, x, lineY);
                            line = words[n] + ' ';
                            lineY += lineHeight;
                        } else {
                            line = testLine;
                        }
                    }
                    dcoeCtx.fillText(line, x, lineY);
                });
                
                // Draw evolution phases
                dcoeCtx.font = "bold 16px Arial";
                dcoeCtx.fillStyle = "#2c3e50";
                dcoeCtx.textAlign = "center";
                dcoeCtx.fillText("Evolution Phases", dcoeCanvas.width / 2, dcoeCanvas.height - 80);
                
                // Evolution phases
                const phases = [
                    { title: "Formation", months: "0-6 months", color: "#3498db" },
                    { title: "Expansion", months: "6-18 months", color: "#2980b9" },
                    { title: "Maturity", months: "18+ months", color: "#1a5276" }
                ];
                
                const phaseWidth = 180;
                const phaseHeight = 50;
                const phaseY = dcoeCanvas.height - 50;
                const startX = (dcoeCanvas.width - (phases.length * phaseWidth)) / 2;
                
                phases.forEach((phase, index) => {
                    const phaseX = startX + (index * phaseWidth);
                    
                    // Draw box
                    dcoeCtx.fillStyle = phase.color;
                    dcoeCtx.fillRect(phaseX, phaseY, phaseWidth, phaseHeight);
                    
                    // Draw text
                    dcoeCtx.font = "bold 14px Arial";
                    dcoeCtx.fillStyle = "#ffffff";
                    dcoeCtx.textAlign = "center";
                    dcoeCtx.fillText(phase.title, phaseX + phaseWidth / 2, phaseY + 20);
                    dcoeCtx.font = "12px Arial";
                    dcoeCtx.fillText(phase.months, phaseX + phaseWidth / 2, phaseY + 40);
                });
            }
            
            // Draw the DCoE structure
            drawDCoE();
        }
        
        // Draw Pod Structure Diagram
        const podCanvas = document.getElementById('podCanvas');
        if (podCanvas) {
            const podCtx = podCanvas.getContext('2d');
            
            // Set canvas dimensions
            const podDisplayWidth = podCanvas.clientWidth;
            const podDisplayHeight = podCanvas.clientHeight;
            
            if (podCanvas.width !== podDisplayWidth || podCanvas.height !== podDisplayHeight) {
                podCanvas.width = podDisplayWidth;
                podCanvas.height = podDisplayHeight;
            }
            
            // Draw Pod structure
            function drawPodStructure() {
                // Background
                podCtx.fillStyle = "#ffffff";
                podCtx.fillRect(0, 0, podCanvas.width, podCanvas.height);
                
                // Title
                podCtx.font = "bold 24px Arial";
                podCtx.fillStyle = "#2c3e50";
                podCtx.textAlign = "center";
                podCtx.fillText("Example of a Pod that Develops Data Products", podCanvas.width / 2, 40);
                
                // Center point
                const centerX = podCanvas.width / 2;
                const centerY = podCanvas.height / 2;
                const radius = Math.min(podCanvas.width, podCanvas.height) * 0.35;
                
                // Draw connecting circle
                podCtx.beginPath();
                podCtx.arc(centerX, centerY, radius, 0, Math.PI * 2);
                podCtx.strokeStyle = "#95a5a6";
                podCtx.lineWidth = 2;
                podCtx.stroke();
                
                // Pod roles
                const roles = [
                    { 
                        abbr: "DPO", 
                        title: "Data Product Owner", 
                        description: "Leads pod in development of data product",
                        angle: 0 
                    },
                    { 
                        abbr: "DS", 
                        title: "Data Steward(s)", 
                        description: "Manages the relevant data domains",
                        angle: Math.PI / 3.5 
                    },
                    { 
                        abbr: "DPA", 
                        title: "Data Product Analyst(s)", 
                        description: "Brings voice of users/customers",
                        angle: 2 * Math.PI / 3.5 
                    },
                    { 
                        abbr: "DE", 
                        title: "Data Engineer(s)", 
                        description: "Carries out data engineering work",
                        angle: 3 * Math.PI / 3.5 
                    },
                    { 
                        abbr: "DA", 
                        title: "Data Architect", 
                        description: "Designs the overall data architecture",
                        angle: 4 * Math.PI / 3.5 
                    },
                    { 
                        abbr: "D", 
                        title: "Designer", 
                        description: "Creates an easy to consume experience",
                        angle: 5 * Math.PI / 3.5 
                    },
                    { 
                        abbr: "TD", 
                        title: "Tech Delivery", 
                        description: "Provides infrastructure and DataOps expertise",
                        angle: 6 * Math.PI / 3.5 
                    }
                ];
                
                const roleRadius = 50;
                
                roles.forEach(role => {
                    // Calculate position
                    const x = centerX + Math.cos(role.angle) * radius;
                    const y = centerY + Math.sin(role.angle) * radius;
                    
                    // Draw circle
                    podCtx.beginPath();
                    podCtx.arc(x, y, roleRadius, 0, Math.PI * 2);
                    podCtx.fillStyle = "#4169e1";
                    podCtx.fill();
                    
                    // Draw abbreviation
                    podCtx.font = "bold 24px Arial";
                    podCtx.fillStyle = "#ffffff";
                    podCtx.textAlign = "center";
                    podCtx.textBaseline = "middle";
                    podCtx.fillText(role.abbr, x, y);
                    
                    // Draw title and description outside the circle
                    const textX = x + Math.cos(role.angle) * (roleRadius + 20);
                    const textY = y + Math.sin(role.angle) * (roleRadius + 20);
                    
                    // Adjust text alignment based on position
                    if (role.angle < Math.PI / 2 || role.angle > 3 * Math.PI / 2) {
                        podCtx.textAlign = "left";
                    } else {
                        podCtx.textAlign = "right";
                    }
                    
                    podCtx.font = "bold 14px Arial";
                    podCtx.fillStyle = "#2c3e50";
                    podCtx.fillText(role.title, textX, textY - 10);
                    
                    podCtx.font = "12px Arial";
                    podCtx.fillStyle = "#555";
                    podCtx.fillText(role.description, textX, textY + 10);
                });
                
                // Add connection to DCoE at the bottom
                podCtx.font = "bold 16px Arial";
                podCtx.fillStyle = "#2c3e50";
                podCtx.textAlign = "center";
                podCtx.fillText("Connected to Data Center of Excellence", podCanvas.width / 2, podCanvas.height - 40);
                
                // Draw arrow from pod to DCoE
                podCtx.beginPath();
                podCtx.moveTo(centerX, centerY + radius);
                podCtx.lineTo(centerX, podCanvas.height - 60);
                podCtx.strokeStyle = "#3498db";
                podCtx.lineWidth = 3;
                podCtx.stroke();
                
                // Arrow head
                podCtx.beginPath();
                podCtx.moveTo(centerX, podCanvas.height - 60);
                podCtx.lineTo(centerX - 10, podCanvas.height - 70);
                podCtx.lineTo(centerX + 10, podCanvas.height - 70);
                podCtx.closePath();
                podCtx.fillStyle = "#3498db";
                podCtx.fill();
            }
            
            // Draw the pod structure
            drawPodStructure();
        }
        
        // Draw Risk Management Framework
        const riskCanvas = document.getElementById('riskCanvas');
        if (riskCanvas) {
            const riskCtx = riskCanvas.getContext('2d');
            
            // Set canvas dimensions
            const riskDisplayWidth = riskCanvas.clientWidth;
            const riskDisplayHeight = riskCanvas.clientHeight;
            
            if (riskCanvas.width !== riskDisplayWidth || riskCanvas.height !== riskDisplayHeight) {
                riskCanvas.width = riskDisplayWidth;
                riskCanvas.height = riskDisplayHeight;
            }
            
            // Draw Risk Management Framework
            function drawRiskFramework() {
                // Background
                riskCtx.fillStyle = "#ffffff";
                riskCtx.fillRect(0, 0, riskCanvas.width, riskCanvas.height);
                
                // Title
                riskCtx.font = "bold 24px Arial";
                riskCtx.fillStyle = "#2c3e50";
                riskCtx.textAlign = "center";
                riskCtx.fillText("How Risk Management is Embedded in Agile Operating Model", riskCanvas.width / 2, 40);
                
                // Draw first line of defense box
                const margin = 50;
                const boxWidth = riskCanvas.width * 0.55;
                const boxHeight = riskCanvas.height - 100;
                
                riskCtx.fillStyle = "#f8f9fa";
                riskCtx.strokeStyle = "#ddd";
                riskCtx.lineWidth = 2;
                riskCtx.fillRect(margin, 80, boxWidth, boxHeight);
                riskCtx.strokeRect(margin, 80, boxWidth, boxHeight);
                
                // Draw header for first box
                riskCtx.fillStyle = "#1a2a3a";
                riskCtx.fillRect(margin, 80, boxWidth, 50);
                
                riskCtx.font = "bold 18px Arial";
                riskCtx.fillStyle = "#ffffff";
                riskCtx.textAlign = "left";
                riskCtx.fillText("Pods (first line of defense)", margin + 20, 115);
                
                // Draw second line of defense box
                const box2X = margin + boxWidth + 30;
                const box2Width = riskCanvas.width - box2X - margin;
                
                riskCtx.fillStyle = "#f8f9fa";
                riskCtx.strokeStyle = "#ddd";
                riskCtx.lineWidth = 2;
                riskCtx.fillRect(box2X, 80, box2Width, boxHeight);
                riskCtx.strokeRect(box2X, 80, box2Width, boxHeight);
                
                // Draw header for second box
                riskCtx.fillStyle = "#1a2a3a";
                riskCtx.fillRect(box2X, 80, box2Width, 50);
                
                riskCtx.font = "bold 18px Arial";
                riskCtx.fillStyle = "#ffffff";
                riskCtx.textAlign = "left";
                riskCtx.fillText("Control functions", box2X + 20, 105);
                riskCtx.font = "bold 16px Arial";
                riskCtx.fillText("(second line of defense)", box2X + 20, 125);
                
                // Draw Domain Lead
                const domainLeadY = 180;
                drawPerson(margin + boxWidth / 2, domainLeadY, 30, "#3498db");
                
                riskCtx.font = "bold 18px Arial";
                riskCtx.fillStyle = "#333";
                riskCtx.textAlign = "center";
                riskCtx.fillText("Domain lead", margin + boxWidth / 2, domainLeadY + 60);
                
                // Draw Product Owners
                const poY = 280;
                const poCount = 5;
                const podWidth = (boxWidth - 40) / poCount;
                
                for (let i = 0; i < poCount; i++) {
                    const podX = margin + 20 + (i * podWidth) + (podWidth / 2);
                    
                    // Draw pod background
                    riskCtx.fillStyle = "#f0f0f0";
                    riskCtx.fillRect(margin + 20 + (i * podWidth), poY - 50, podWidth - 10, 200);
                    
                    // Draw product owner
                    drawPerson(podX, poY, 25, "#999");
                    
                    riskCtx.font = "bold 16px Arial";
                    riskCtx.fillStyle = "#333";
                    riskCtx.textAlign = "center";
                    riskCtx.fillText("Product", podX, poY + 60);
                    riskCtx.fillText("Owner", podX, poY + 80);
                    
                    // Draw team members
                    const memberPositions = [
                        { x: podX - 15, y: poY + 120 },
                        { x: podX + 15, y: poY + 120 },
                        { x: podX, y: poY + 155 }
                    ];
                    
                    memberPositions.forEach(pos => {
                        // Only color some of them blue for illustration
                        const color = (Math.random() > 0.7) ? "#3498db" : "#999";
                        drawPerson(pos.x, pos.y, 15, color);
                    });
                }
                
                // Draw Risk Generalist
                const rgY = riskCanvas.height - 80;
                drawPerson(margin + 100, rgY, 30, "#4169e1");
                
                riskCtx.font = "bold 18px Arial";
                riskCtx.fillStyle = "#333";
                riskCtx.textAlign = "left";
                riskCtx.fillText("Risk generalist", margin + 150, rgY - 15);
                
                riskCtx.font = "14px Arial";
                riskCtx.fillStyle = "#555";
                riskCtx.fillText("Conducts risk assessment during release", margin + 150, rgY + 10);
                riskCtx.fillText("planning and mobilizes second-line risk", margin + 150, rgY + 30);
                riskCtx.fillText("professional as needed", margin + 150, rgY + 50);
                
                // Draw dashed line connecting to control functions
                riskCtx.beginPath();
                riskCtx.setLineDash([5, 5]);
                riskCtx.moveTo(margin + 100, rgY);
                riskCtx.lineTo(box2X, rgY);
                riskCtx.strokeStyle = "#999";
                riskCtx.lineWidth = 2;
                riskCtx.stroke();
                riskCtx.setLineDash([]);
                
                // Draw arrow to indicate connection
                drawArrow(box2X - 20, rgY, "#999");
                
                // Draw Control Functions
                const controlCategories = [
                    { title: "Risk management professionals", oversight: "Risk oversight" },
                    { title: "Compliance", oversight: "Chief compliance officer" },
                    { title: "Credit", oversight: "Chief credit officer" },
                    { title: "Interest rate", subtitle: "Liquidity", subtitle2: "Price", oversight: "Head of market risk" },
                    { title: "Operational", subtitle: "Reputational", subtitle2: "Cybersecurity", subtitle3: "Fraud", subtitle4: "Strategic", subtitle5: "Technology", oversight: "ERM oversight" },
                    { title: "Others", oversight: "" }
                ];
                
                let currentY = 150;
                const lineHeight = 35;
                const categorySpacing = 15;
                
                controlCategories.forEach((category, index) => {
                    // Draw category
                    riskCtx.font = "bold 16px Arial";
                    riskCtx.fillStyle = "#333";
                    riskCtx.textAlign = "left";
                    riskCtx.fillText(category.title, box2X + 20, currentY);
                    
                    // Draw oversight
                    riskCtx.font = "16px Arial";
                    riskCtx.fillStyle = "#333";
                    riskCtx.textAlign = "left";
                    riskCtx.fillText(category.oversight, box2X + box2Width/2, currentY);
                    
                    // Add subtitles if present
                    if (category.subtitle) {
                        currentY += lineHeight;
                        riskCtx.font = "16px Arial";
                        riskCtx.fillStyle = "#333";
                        riskCtx.textAlign = "left";
                        riskCtx.fillText(category.subtitle, box2X + 20, currentY);
                    }
                    
                    if (category.subtitle2) {
                        currentY += lineHeight;
                        riskCtx.font = "16px Arial";
                        riskCtx.fillStyle = "#333";
                        riskCtx.textAlign = "left";
                        riskCtx.fillText(category.subtitle2, box2X + 20, currentY);
                    }
                    
                    if (category.subtitle3) {
                        currentY += lineHeight;
                        riskCtx.font = "16px Arial";
                        riskCtx.fillStyle = "#333";
                        riskCtx.textAlign = "left";
                        riskCtx.fillText(category.subtitle3, box2X + 20, currentY);
                    }
                    
                    if (category.subtitle4) {
                        currentY += lineHeight;
                        riskCtx.font = "16px Arial";
                        riskCtx.fillStyle = "#333";
                        riskCtx.textAlign = "left";
                        riskCtx.fillText(category.subtitle4, box2X + 20, currentY);
                    }
                    
                    if (category.subtitle5) {
                        currentY += lineHeight;
                        riskCtx.font = "16px Arial";
                        riskCtx.fillStyle = "#333";
                        riskCtx.textAlign = "left";
                        riskCtx.fillText(category.subtitle5, box2X + 20, currentY);
                    }
                    
                    // Draw separator line
                    if (index < controlCategories.length - 1) {
                        currentY += categorySpacing;
                        riskCtx.beginPath();
                        riskCtx.moveTo(box2X + 20, currentY);
                        riskCtx.lineTo(box2X + box2Width - 20, currentY);
                        riskCtx.strokeStyle = "#ddd";
                        riskCtx.lineWidth = 1;
                        riskCtx.stroke();
                        currentY += categorySpacing;
                    }
                });
            }
            
            // Helper function to draw person icon
            function drawPerson(x, y, radius, color) {
                // Draw head
                riskCtx.beginPath();
                riskCtx.arc(x, y - radius/2, radius/2, 0, Math.PI * 2);
                riskCtx.fillStyle = color;
                riskCtx.fill();
                
                // Draw body
                riskCtx.beginPath();
                riskCtx.arc(x, y + radius/2, radius, 0, Math.PI, true);
                riskCtx.closePath();
                riskCtx.fillStyle = color;
                riskCtx.fill();
            }
            
            // Helper function to draw arrow
            function drawArrow(x, y, color) {
                riskCtx.beginPath();
                riskCtx.moveTo(x, y);
                riskCtx.lineTo(x - 10, y - 7);
                riskCtx.lineTo(x - 10, y + 7);
                riskCtx.closePath();
                riskCtx.fillStyle = color;
                riskCtx.fill();
            }
            
            // Draw the risk framework
            drawRiskFramework();
        }
        
        // Draw Project Timeline
        const timelineCanvas = document.getElementById('timelineCanvas');
        if (timelineCanvas) {
            const timelineCtx = timelineCanvas.getContext('2d');
            
            // Set canvas dimensions
            const timelineDisplayWidth = timelineCanvas.clientWidth;
            const timelineDisplayHeight = timelineCanvas.clientHeight;
            
            if (timelineCanvas.width !== timelineDisplayWidth || timelineCanvas.height !== timelineDisplayHeight) {
                timelineCanvas.width = timelineDisplayWidth;
                timelineCanvas.height = timelineDisplayHeight;
            }
            
            // Draw Project Timeline
            function drawProjectTimeline() {
                // Background
                timelineCtx.fillStyle = "#ffffff";
                timelineCtx.fillRect(0, 0, timelineCanvas.width, timelineCanvas.height);
                
                // Title
                timelineCtx.font = "bold 24px Arial";
                timelineCtx.fillStyle = "#2c3e50";
                timelineCtx.textAlign = "center";
                timelineCtx.fillText("Integrated Inventory Management: Project Timeline", timelineCanvas.width / 2, 40);
                
                // Define phases
                const phases = [
                    { 
                        name: "Project Initiation & Planning", 
                        weeks: "Weeks 1-4",
                        color: "#3498db",
                        dcoe: "High",
                        experts: ["Operations Director", "Supply Chain Manager", "IT Manager"]
                    },
                    { 
                        name: "Data Foundation & Architecture", 
                        weeks: "Weeks 5-12",
                        color: "#2980b9",
                        dcoe: "High",
                        experts: ["External Vendor", "IT Manager", "Inventory Controller"]
                    },
                    { 
                        name: "Analytics Development", 
                        weeks: "Weeks 13-20",
                        color: "#1a5276",
                        dcoe: "Very High",
                        experts: ["Restaurant Managers", "Menu Planner", "Inventory Controller"]
                    },
                    { 
                        name: "User Adoption & Deployment", 
                        weeks: "Weeks 21-26",
                        color: "#154360",
                        dcoe: "Medium",
                        experts: ["Operations Director", "Restaurant Managers", "Data Champions"]
                    },
                    { 
                        name: "Continuous Improvement", 
                        weeks: "Ongoing",
                        color: "#0e2f44",
                        dcoe: "Low",
                        experts: ["Data Champions", "End Users", "IT Support"]
                    }
                ];
                
                // Timeline dimensions
                const margin = 100;
                const timelineWidth = timelineCanvas.width - (margin * 2);
                const timelineHeight = 60;
                const timelineY = 120;
                
                // Draw timeline base
                timelineCtx.fillStyle = "#e0e0e0";
                timelineCtx.fillRect(margin, timelineY, timelineWidth, timelineHeight);
                
                // Draw phase segments
                let currentX = margin;
                const totalWeeks = 26; // Plus ongoing
                
                phases.forEach((phase, index) => {
                    // Calculate width based on weeks (except the last "ongoing" phase)
                    let phaseWidth;
                    if (index < phases.length - 1) {
                        // Extract week numbers from string like "Weeks 13-20"
                        const weekRange = phase.weeks.match(/(\d+)-(\d+)/);
                        if (weekRange) {
                            const startWeek = parseInt(weekRange[1]);
                            const endWeek = parseInt(weekRange[2]);
                            const phaseDuration = endWeek - startWeek + 1;
                            phaseWidth = (phaseDuration / totalWeeks) * timelineWidth;
                        } else {
                            // Default if format doesn't match
                            phaseWidth = timelineWidth / phases.length;
                        }
                    } else {
                        // Last phase (ongoing) gets less space
                        phaseWidth = timelineWidth * 0.15;
                    }
                    
                    // Draw phase segment
                    timelineCtx.fillStyle = phase.color;
                    timelineCtx.fillRect(currentX, timelineY, phaseWidth, timelineHeight);
                    
                    // Draw phase name
                    timelineCtx.font = "bold 16px Arial";
                    timelineCtx.fillStyle = "#ffffff";
                    timelineCtx.textAlign = "center";
                    timelineCtx.fillText(phase.name, currentX + (phaseWidth / 2), timelineY + 25);
                    
                    // Draw weeks
                    timelineCtx.font = "14px Arial";
                    timelineCtx.fillText(phase.weeks, currentX + (phaseWidth / 2), timelineY + 45);
                    
                    // Draw phase number
                    timelineCtx.beginPath();
                    timelineCtx.arc(currentX + (phaseWidth / 2), timelineY - 25, 20, 0, Math.PI * 2);
                    timelineCtx.fillStyle = phase.color;
                    timelineCtx.fill();
                    
                    timelineCtx.font = "bold 16px Arial";
                    timelineCtx.fillStyle = "#ffffff";
                    timelineCtx.fillText(index + 1, currentX + (phaseWidth / 2), timelineY - 20);
                    
                    // Update X position for next phase
                    currentX += phaseWidth;
                });
                
                // Draw phase details
                const detailsY = timelineY + timelineHeight + 50;
                const detailsHeight = 400;
                
                timelineCtx.fillStyle = "#f8f9fa";
                timelineCtx.strokeStyle = "#ddd";
                timelineCtx.lineWidth = 2;
                timelineCtx.fillRect(margin, detailsY, timelineWidth, detailsHeight);
                timelineCtx.strokeRect(margin, detailsY, timelineWidth, detailsHeight);
                
                // Draw header row
                const headerY = detailsY + 40;
                timelineCtx.font = "bold 16px Arial";
                timelineCtx.fillStyle = "#2c3e50";
                timelineCtx.textAlign = "center";
                
                const columns = ["Phase", "DCoE Involvement", "Domain Experts", "Key Activities"];
                const columnWidth = timelineWidth / columns.length;
                
                columns.forEach((column, index) => {
                    const x = margin + (index * columnWidth) + (columnWidth / 2);
                    timelineCtx.fillText(column, x, headerY);
                });
                
                // Draw separator line
                timelineCtx.beginPath();
                timelineCtx.moveTo(margin, headerY + 20);
                timelineCtx.lineTo(margin + timelineWidth, headerY + 20);
                timelineCtx.strokeStyle = "#ddd";
                timelineCtx.lineWidth = 2;
                timelineCtx.stroke();
                
                // Draw phase details
                const rowHeight = (detailsHeight - 80) / phases.length;
                
                phases.forEach((phase, index) => {
                    const rowY = headerY + 40 + (index * rowHeight);
                    
                    // Phase number & name
                    timelineCtx.beginPath();
                    timelineCtx.arc(margin + 30, rowY, 15, 0, Math.PI * 2);
                    timelineCtx.fillStyle = phase.color;
                    timelineCtx.fill();
                    
                    timelineCtx.font = "bold 14px Arial";
                    timelineCtx.fillStyle = "#ffffff";
                    timelineCtx.textAlign = "center";
                    timelineCtx.fillText(index + 1, margin + 30, rowY + 5);
                    
                    timelineCtx.font = "bold 14px Arial";
                    timelineCtx.fillStyle = "#333";
                    timelineCtx.textAlign = "left";
                    timelineCtx.fillText(phase.name, margin + 60, rowY + 5);
                    
                    // DCoE Involvement
                    const dcoeX = margin + columnWidth;
                    
                    // Draw involvement bar
                    const barWidth = columnWidth * 0.7;
                    const barHeight = 20;
                    
                    let involvementLevel;
                    let barColor;
                    
                    switch(phase.dcoe) {
                        case "Very High":
                            involvementLevel = 1.0;
                            barColor = "#2980b9";
                            break;
                        case "High":
                            involvementLevel = 0.8;
                            barColor = "#3498db";
                            break;
                        case "Medium":
                            involvementLevel = 0.6;
                            barColor = "#5dade2";
                            break;
                        case "Low":
                            involvementLevel = 0.4;
                            barColor = "#85c1e9";
                            break;
                        default:
                            involvementLevel = 0.2;
                            barColor = "#aed6f1";
                    }
                    
                    timelineCtx.fillStyle = "#e0e0e0";
                    timelineCtx.fillRect(dcoeX + (columnWidth - barWidth) / 2, rowY - 10, barWidth, barHeight);
                    
                    timelineCtx.fillStyle = barColor;
                    timelineCtx.fillRect(dcoeX + (columnWidth - barWidth) / 2, rowY - 10, barWidth * involvementLevel, barHeight);
                    
                    timelineCtx.font = "bold 14px Arial";
                    timelineCtx.fillStyle = "#333";
                    timelineCtx.textAlign = "center";
                    timelineCtx.fillText(phase.dcoe, dcoeX + columnWidth/2, rowY + 25);
                    
                    // Domain Experts
                    const expertsX = margin + (columnWidth * 2);
                    
                    timelineCtx.font = "14px Arial";
                    timelineCtx.fillStyle = "#333";
                    timelineCtx.textAlign = "center";
                    
                    phase.experts.forEach((expert, i) => {
                        timelineCtx.fillText(expert, expertsX + columnWidth/2, rowY - 15 + (i * 20));
                    });
                    
                    // Key Activities
                    const activitiesX = margin + (columnWidth * 3);
                    
                    let activities;
                    switch(index) {
                        case 0:
                            activities = ["Project charter", "Requirements gathering", "Business case development"];
                            break;
                        case 1:
                            activities = ["Data lake setup", "Data model development", "Integration pipelines"];
                            break;
                        case 2:
                            activities = ["Forecasting models", "Optimization algorithms", "Dashboard creation"];
                            break;
                        case 3:
                            activities = ["User testing", "Training", "Pilot & deployment"];
                            break;
                        case 4:
                            activities = ["Performance monitoring", "Model refinement", "Knowledge sharing"];
                            break;
                        default:
                            activities = ["Planning", "Implementation", "Review"];
                    }
                    
                    timelineCtx.font = "14px Arial";
                    timelineCtx.fillStyle = "#333";
                    timelineCtx.textAlign = "center";
                    
                    activities.forEach((activity, i) => {
                        timelineCtx.fillText(activity, activitiesX + columnWidth/2, rowY - 15 + (i * 20));
                    });
                });
                
                // Draw legend
                const legendY = detailsY + detailsHeight + 30;
                
                timelineCtx.font = "bold 16px Arial";
                timelineCtx.fillStyle = "#2c3e50";
                timelineCtx.textAlign = "left";
                timelineCtx.fillText("Involvement Level:", margin, legendY);
                
                const involvementLevels = ["Very High", "High", "Medium", "Low"];
                const levelColors = ["#2980b9", "#3498db", "#5dade2", "#85c1e9"];
                const levelWidth = 100;
                
                involvementLevels.forEach((level, index) => {
                    const x = margin + 170 + (index * (levelWidth + 30));
                    
                    // Draw color box
                    timelineCtx.fillStyle = levelColors[index];
                    timelineCtx.fillRect(x, legendY - 15, 20, 20);
                    
                    // Draw level text
                    timelineCtx.font = "14px Arial";
                    timelineCtx.fillStyle = "#333";
                    timelineCtx.textAlign = "left";
                    timelineCtx.fillText(level, x + 30, legendY);
                });
            }
            
            // Draw the project timeline
            drawProjectTimeline();
        }
    });
</script>
